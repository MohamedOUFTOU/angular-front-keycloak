<div class="container" *ngIf="productsLoaded && costumersLoaded">
  <div class="col-lg-12">
    <div class="panel panel-default">
      <div class="panel-heading">Add Bill</div>
      <div class="panel-body">
        <div class="row">
          <div class="col-lg-6">
            <div class="panel panel-default">
              <div class="panel-heading">Select Product to add</div>
              <div class="panel-body">
                <div class="form-group" style="justify-content: right">
                  <input type="text" class="form-control" id="name" placeholder="Enter the product name..."  (input)="onProductSearch($event)">
                </div>
                <table class="table table-hover">
                  <thead>
                  <tr>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Actions</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let p of products">
                    <td>{{ p.name }}</td>
                    <td>{{ p.price }}</td>
                    <td>
                      <button class="btn btn-info" (click)="onAddProduct(p)"><span class="glyphicon glyphicon-plus-sign"></span></button>
                    </td>
                  </tr>
                  </tbody>
                </table>
                <ul class="pagination">
                  <li *ngFor="let _ of productsPageIndexes;index as i" [className]="i==productsPageIndex?'active':''"><a (click)="onChangeProductPage(i)">{{ i+1 }}</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="panel panel-default">
              <div class="panel-heading">Bill Products Items</div>
              <div class="panel-body">
                <table class="table table-hover">
                  <thead>
                  <tr>
                    <th>Product Name</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Actions</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let pi of productsItems">
                    <td>{{ pi.product.name }}</td>
                    <td><input type="number" style="width: 60px" [(ngModel)]="pi.quantity" name="quantity" (input)="onChangeQte($event,pi)"></td>
                    <td><input type="number" style="width: 60px" [(ngModel)]="pi.price" name="price" disabled="true"></td>
                    <td>
                      <button class="btn btn-danger"  (click)="onDeleteProductItem(pi)"><span class="glyphicon glyphicon-minus-sign"></span></button>
                    </td>
                  </tr>
                  </tbody>
                </table>
                <div class="form-group form-inline">
                  <label for="totalBill">Total Bill:</label>
                  <input type="text" [(ngModel)]="totalBill" class="form-control" id="totalBill" name="productName" disabled="true">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6">
            <div class="panel panel-default">
              <div class="panel-heading">Select Costumer</div>
              <div class="panel-body">
                <div class="form-group" style="justify-content: right">
                  <input type="text" class="form-control" id="costumerName" placeholder="Enter the costumer name..."  (input)="onCostumerSearch($event)">
                </div>
                <table class="table table-hover">
                  <thead>
                  <tr>
                    <th>Name</th>
                    <th>Email</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let c of costumers" (click)="onSelectCostumer(c)">
                    <td>{{ c.name }}</td>
                    <td>{{ c.email }}</td>
                  </tr>
                  </tbody>
                </table>
                <ul class="pagination">
                  <li *ngFor="let _ of costumersPageIndexes;index as i" [className]="i==costumersPageIndex?'active':''"><a (click)="onChangeCostumerPage(i)">{{ i+1 }}</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="panel panel-default">
              <div class="panel-heading">Infos about Costumer</div>
              <div class="panel-body">
                <form *ngIf="selectedCostumer">
                  <div class="form-group">
                    <label for="name">Costumer Name:</label>
                    <input type="text" [(ngModel)]="selectedCostumer.name" class="form-control"  name="costumerName" disabled="true">
                  </div>
                  <div class="form-group">
                    <label for="email">Costumer Email:</label>
                    <input type="text" [(ngModel)]="selectedCostumer.email" class="form-control" id="email" name="email" disabled="true">
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-2 col-lg-offset-5">
            <button class="btn btn-info" style="width: 100%" (click)="onAddBill()">Add bill</button>
          </div>

        </div>
      </div>
    </div>

  </div>
</div>
